<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch-API</title>
</head>
<body>
<!--
#Browser provide:- setTimeout(), setInterval() and fetch(), alert() functions bydefault
#Background request:- After the initial request for e.g:- google.com the remaining request is the Background
request. You can see this on the network tab 
-->
    <h1>Linkedin Post</h1>
    <div id="post"></div>
    <script>
        // fetch() and response return the "promise"
        //  the method which use promise we need to use the
        // "await" in that case that is very important and the function need to be 
        // "async" fn.
    //    const response = fetch("https://jsonplaceholder.typicode.com/posts/1");
        // (imp):-
        // bydefault fetch is the get request and also you can use the second argument
        // inside the fetch.
        // imp to understand:-
        // Main goal of fetch is to send the http request in the background for ex:- When
        // we scroll the linkedin we get the new post which will we done by the fetch
        // method.
        
        // Using async and await.
        // async function  getPost() {
        //     console.log("Before sending request");
        //     const response = await fetch("https://jsonplaceholder.typicode.com/posts/1");
        //     const data = await response.json();
        //     console.log(data);
        //     console.log("request has been processed");
        //     // Work remaining is that we need to add the given data on the webpage
        //     //here we use DOM
        //     // document.getElementById("post").innerHTML = JSON.stringify(data, null, 2);
        //     //For better formatting we use the below code.
        //     document.getElementById("post").textContent = JSON.stringify(data, null, 2);
        // }

        // Promise versionk using .then
        function getPost(){
            console.log("Before sending the request");
            const response = fetch("https://jsonplaceholder.typicode.com/posts/1").then(
            function(response){
             const data = response.json().then(function(data){
                console.log(data);
                console.log("Request is processed");
                document.getElementById("post").textContent = JSON.stringify(data, null, 2);
             })   

            }
         )   

        }
        getPost();
    </script>
    
</body>
</html>